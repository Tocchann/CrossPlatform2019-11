## Cross-Platform な
## アプリ開発をするときに
## 考えておきたい点

<https://gitpitch.com/Tocchann/CrossPlatform2019-11>

![QRCode](Resources/qrcode.png)

+++

### 自己紹介的な？

* とっちゃん  
わんくま同盟  
  http://blogs.wankuma.com/tocchann/
  default.aspx

+++

#### 各種SNSとか  

* <https://twitter.com/Tocchann>  
* <https://www.facebook.com/toshiyuki.takahagi>  
* <https://github.com/tocchann>  
* Microsoft MVP for Developer Technologies  
  Since 2005/10～  
  * <https://mvp.microsoft.com/ja-jp/PublicProfile/32182>

---

### わんくま同盟 東京勉強会 #119

2019/12/14 新宿お菜家で開催！  
私もしゃべります！  
(ここだけの話、まだ決めてない)

続報は <http://www.wankuma.com/seminar/> で！  
<https://wankuma.connpass.com/> でも告知！

---

### Cross-Platform な  
### アプリ開発をするときに  
### 考えておきたい点  

# とは？

---

### Cross-Platform なアプリ開発？

* Cross-Platform  
→ 複数環境  

* アプリ開発  
→ エンドユーザーが利用するプログラムの開発

---

### 考えておきたい点？

* プログラムを作る上で考慮しておくべき  
**事柄** のうち  
**特有** なものを  
少しだけ並べてみました

---

### まずは結論！

* Cross-Platform な  
(アプリ)開発においては  
**プロジェクト(プロダクト:製品)** の  
**ポータビリティ** を  
**高く維持した状態** で  
開発を継続すること

---

### 作る前に考えておくこと

* そのプログラム 5W1H があります(わかっています)か？
* いつ(When)、どこで(Where)、だれが(Who)、何を(What)、なぜ(Why)、どうやって(How)

+++

* Why は、すべてに追加質問する。
* いつ？なぜ、そのときなの？なぜそう思うの？
* どこで？なぜ、そこなの？なぜそう思うの？
  * （ｒｙ

---

### 作る前に考えておくこと

* 想定する実行環境はまとまっていますか？
  * 複数の環境で動く(全部1ソースで対応は不可能)
* その開発要件に合致する開発環境は整えられますか？
* その開発要件に合致するテスト環境は整えられますか？

---

### 大事なことなので2回目

* Cross-Platform な  
(アプリ)開発においては  
**プロジェクト(プロダクト:製品)** の  
**ポータビリティ** を  
**高く維持した状態** で  
開発を継続すること

---

### ポータビリティとは

* ポータビリティ: Portability
* 英辞郎より
  1. 携帯できること、 携帯性、**可搬性**、軽便
  1. 《コ》 **移植性**

---

### ポータビリティを高く維持？

* 可搬性が高い
* 状況によらず同じもの
* ソースコードを **一切** 修正(変更)せずに  
複数の実行環境向けにプログラムを出力できる。

---

### ポータビリティを高く維持？

* 移植性が高い
* 状況に応じて変わる(変える)もの
* ソースコードを **極力** 修正(変更)せずに  
複数の実行環境向けにプログラムを出力できる。

---

### もう少し具体的に！

#### 3つのグループに分ける

1. Platform に依存しない共通部分
1. Platform 固有の非共通部分
1. 共通部分と非共通部分の混合部分

---

### Platform に依存しない共通部分

* 可搬性のある部分だけで成立させる
* 環境が異なる場合でも同一プロジェクト

---

### Platform 固有の非共通部分

* 移植できないコードだけで成立させる
* 環境ごとに別プロジェクト

---

### 共通部分と非共通部分の混合部分

* 可能であれば分割する
* インターフェース化する
  * ソース共有
    * 非共通プロジェクトで同じソースを参照
  * プロジェクト共有
    * インターフェース定義プロジェクトを作成

---

### 大事なことなので2回書きます

* Cross-Platform な  
(アプリ)開発においては  
**プロジェクト(プロダクト:製品)** の  
**ポータビリティ** を  
**高く維持した状態** で  
開発を継続すること

---

### データファイルはどうするの？

* 環境依存を低くする
* 環境依存を明確にする
* 環境依存を明示する

+++

### 設定ファイルの場合は？

* 環境差異を吸収する役割
* 原則環境ごとに用意する
* 異なる部分と同じ部分で分離する(ソースと同じ考え方)
* 可能ならビルド時にバインド(結合)

+++

### バイナリファイルの場合は？

* ビットレベルの同一化(Endianの影響を受けない)
* Endian の統一または明示
* 文字コードの統一または、文字コードの明示

+++ 

### テキストファイルの場合は？

* 文字コードの統一または、文字コードの明示
* Endian の統一または明示
* 改行コードの取り扱いの多様性対応または明示

+++ 

### 書式化テキストファイルの場合は？

* 規格にそって書式化テキストを扱っているか？
* CSV のような自由度の高い書式の場合は。。。
  * 利用プログラム間で意思統一されているか？
* JSON で日本語どうやって出力している？
  * UTF8なら。。。になっていない？

---

### 何か足りなくない？

* ライブラリの話はしていません！

---

### 大事なことなので（ｒｙ

* Cross-Platform な  
(アプリ)開発においては  
**プロジェクト**(プロダクト:製品) の  
**ポータビリティ** を  
**高く維持した状態** で  
開発を継続すること

---

Happy Coding!
